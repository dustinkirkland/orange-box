orange-box (1.4) unreleased; urgency=medium

  * debian/preinst:
    - add some pre-flight checks, to ensure that the OrangeBox is installed
      per spec
    - add the NAT basics in the network setup
  * usr/bin/orange-box-create-package-mirror, usr/bin/orange-box-setup-
    kvms, usr/bin/orange-box-setup-maas, usr/share/doc/orange-
    box/examples/openstack-complex/havana/04cleanup.sh,
    usr/share/doc/orange-box/examples/openstack-complex/juju-
    config/environments.yaml, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-configuration/prepare-
    cloud, usr/share/doc/orange-box/examples/openstack-
    complex/openstack-prereqs-install.sh:
    - comprehensive replacement of 10.0.0.* with 10.14.4.*
  * usr/bin/orange-box-add-all-nodes:
    - doesn't look like we actually need the nodelists
    - use nmap to scan the network for ip's listening on 16992
    - use arp to translate these ip's to mac addresses
    - use a consistent naming scheme to create nodeN hostnames
    - profit
  * usr/bin/orange-box-add-all-nodes:
    - we use AMT_PASSWORD so much, put it in .bashrc
  * usr/bin/orange-box-setup-maas:
    - deprecated;  all functionality subsumed into postinst/preinst
  * debian/preinst, usr/lib/orange-box/inc/squid.conf:
    - setup squid

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sat, 12 Apr 2014 00:17:47 -0500

orange-box (1.3-0ubuntu1) trusty; urgency=medium

  * debian/postinst:
    - make sure we chown the .juju directory to the ubuntu user
  * usr/share/doc/orange-box/examples/openstack-simple/00-demo-prep.sh:
    - show the debug log and upload tools when bootstrapping, otherwise
      FUCKING juju has to go out to the internet to download itself,
      FOR FUCKS SAKE
  * debian/postinst:
    - set an admin secret so that we can log into the juju gui
  * debian/control:
    - add juju-deployer to the master node, makes deploying bundles
      much easier
  * === added directory home, === added directory home/ubuntu, === added
    directory home/ubuntu/.remmina, debian/postinst,
    home/ubuntu/.remmina/1397230159112.remmina,
    home/ubuntu/.remmina/1397232305030.remmina,
    home/ubuntu/.remmina/1397232322839.remmina,
    home/ubuntu/.remmina/1397232362406.remmina,
    home/ubuntu/.remmina/1397232390677.remmina,
    home/ubuntu/.remmina/1397232407533.remmina,
    home/ubuntu/.remmina/1397232435909.remmina,
    home/ubuntu/.remmina/1397232455068.remmina,
    home/ubuntu/.remmina/1397232472197.remmina,
    home/ubuntu/.remmina/remmina.pref, usr/share/doc/orange-
    box/examples/openstack-simple/havanaOB.yaml:
    - install a working set of VNC configs

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sat, 12 Apr 2014 00:17:44 -0500

orange-box (1.2-0ubuntu1) trusty; urgency=medium

  * debian/postinst:
    - reorder the checking of maas services; region must be up first
  * debian/postinst, usr/bin/orange-box-add-all-nodes, usr/lib/orange-
    box/inc/common:
    - move the error function to our common include
    - print a suggestion error message, if nmap finds no nodes listening
      on AMT
  * debian/postinst, usr/bin/orange-box-add-all-nodes:
    - change the IP range to 20-250, to allow for 11-19 for static AMT IPs
    - use a bulk method to mark all nodes as fastpath

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 11 Apr 2014 10:13:33 -0500

orange-box (1.1-0ubuntu1) trusty; urgency=medium

  * debian/postinst:
    - handle the stop/start of the pserv and dhcp more robustly
    - create an error function, to bail out
    - create a function that tries to ensure certain services are running
    - ensure that ALL OF MAAS is running, before trying to add all nodes

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 11 Apr 2014 08:30:22 -0500

orange-box (1.0-0ubuntu1) trusty; urgency=low

  * Initial packaging
  * debian/postinst:
    - move some of the setup maas configuration into the postinst
  * etc/apt/mirror.list => etc/apt/orange-box-mirror.list,
    etc/cron.d/apt-mirror => etc/cron.d/orange-box-mirror:
    - don't step on apt-mirror's default configuration file
  * === added directory etc/maas, debian/control, debian/postinst,
    etc/cron.d/orange-box-mirror, etc/maas/import_pxe_files:
    - add openssh-server as a dependency (which is not necessarily
      installed if we start from an Ubuntu desktop
    - refactor and expand the logic in postinst, ensure idempotency,
      add networking support
    - fix error in mirror cronjob
    - add import pxe conf file
  * debian/postinst, etc/network/interfaces.example, === removed
    directory etc/network:
    - add logic for getting the api key
    - setup maas admin first
    - fix syntax error in boot resources setup
    - remove the deprecated network interfaces sample
  * debian/control, debian/postinst, usr/share/orange-
    box/nodelists/CloudFive-nodelist => usr/share/orange-
    box/nodelists/OrangeBox05, usr/share/orange-box/nodelists/CloudFour-
    nodelist => usr/share/orange-box/nodelists/OrangeBox04,
    usr/share/orange-box/nodelists/CloudTwo-nodelist =>
    usr/share/orange-box/nodelists/OrangeBox02, usr/share/orange-
    box/nodelists/OrangeBox01:
    - add some dependencies for other tools we'll need
      + byobu, iptables-persistent, juju-core, wsmancli
    - try to list the maas network interfaces first, and keep trying
      until we can, and then update the network interfaces
    - make sure boot-resources symlink does not yet exist
    - generate an ssh key for the ubuntu user, and add it to maas
    - setup a juju environment for maas
    - rename all of the nodelists, to OrangeBox[00-05]
  * debian/postinst, usr/bin/orange-box-setup-nat:
    - rework our setup-nat script a bit; tested and working as
      designed, at this point
  * usr/bin/orange-box-add-all-nodes, usr/bin/orange-box-fastpath:
    - update add-all-nodes logic, use a small shell replacement for
      the fastpath python script; also tested and working as designed,
      at this point
  * debian/control, debian/postinst, debian/preinst, etc/apache2/sites-
    available/archive.conf, etc/apache2/sites-available/ubuntu-
    cloud.conf, usr/bin/orange-box-add-all-nodes, usr/lib/orange-
    box/inc/common:
    - add nmap, useful for telling which nodes have AMT listening
    - use set -x on a couple of our scripts for now
    - wait a few seconds to ensure networking is ready
    - disable nat setup for now
    - disable the default apache site, restart instead of reload
    - fix conditional syntax error
    - add all nodes in the postinst
    - add a preinst file that sets some debconf questions
    - update apache site configuration for apache 2.4, ffs
    - make add-all-nodes more robust
    - fix some maas-cli calls
  * debian/postinst, debian/preinst:
    - move the networking setup to preinst

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 11 Apr 2014 07:20:25 -0500
