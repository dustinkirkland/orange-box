orange-box (1.40) unreleased; urgency=medium

  * debian/control, debian/postinst:
    - install juju plugins, for pprint, git-deploy, clean
  * debian/postinst:
    - disable apport;  these demo machines are often customer facing
      or used in public location like a tradeshow booth;  apport
      crash messages are not appropriate for these environments
  * usr/bin/orange-box-setup-nat:
    - update maas upstream dns on setup-nat run
    - restart squid3 as well as squid-deb-proxy

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 10 Jun 2014 18:01:47 -0700

orange-box (1.39-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - handle in place upgrades of the orange-box package
      + skip adding all nodes and importing boot images on upgrade
  * usr/bin/orange-box-run:
    - add a kickass command to run a command on all nodes

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 10 Jun 2014 18:01:46 -0700

orange-box (1.38-0ubuntu1) utopic; urgency=medium

  * debian/control, debian/postinst, === removed directory
    usr/share/doc/orange-box/examples, === removed directory
    usr/share/doc/orange-box/examples/hadoop, === removed directory
    usr/share/doc/orange-box/examples/openstack, === removed directory
    usr/share/doc/orange-box/examples/openstack-complex, === removed
    directory usr/share/doc/orange-box/examples/openstack-
    complex/havana, === removed directory usr/share/doc/orange-
    box/examples/openstack-complex/havana-colo, === removed directory
    usr/share/doc/orange-box/examples/openstack-complex/havana-compute,
    === removed directory usr/share/doc/orange-box/examples/openstack-
    complex/havana-swift, === removed directory usr/share/doc/orange-
    box/examples/openstack-complex/juju-config, === removed directory
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration, === removed directory usr/share/doc/orange-
    box/examples/openstack-complex/openstack-configuration/devstack, ===
    removed directory usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/devstack/test_utils, === removed
    directory usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/devstack/test_utils/juju, ===
    removed directory usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/etc_master, === removed directory
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack_templates, === removed directory
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/prepare_cloud, === removed symlink
    usr/share/doc/orange-box/examples/openstack-complex/havana-
    colo/01demo-prep.sh, === removed symlink usr/share/doc/orange-
    box/examples/openstack-complex/havana-colo/02deploy.sh, === removed
    symlink usr/share/doc/orange-box/examples/openstack-complex/havana-
    colo/03configure-cloud.sh, === removed symlink usr/share/doc/orange-
    box/examples/openstack-complex/havana-colo/04cleanup.sh, === removed
    symlink usr/share/doc/orange-box/examples/openstack-complex/havana-
    colo/README, === removed symlink usr/share/doc/orange-
    box/examples/openstack-complex/havana-compute/01demo-prep.sh, ===
    removed symlink usr/share/doc/orange-box/examples/openstack-
    complex/havana-compute/02deploy.sh, === removed symlink
    usr/share/doc/orange-box/examples/openstack-complex/havana-
    compute/04cleanup.sh, === removed symlink usr/share/doc/orange-
    box/examples/openstack-complex/havana-compute/README, === removed
    symlink usr/share/doc/orange-box/examples/openstack-complex/havana-
    swift/01demo-prep.sh, === removed symlink usr/share/doc/orange-
    box/examples/openstack-complex/havana-swift/02deploy.sh, === removed
    symlink usr/share/doc/orange-box/examples/openstack-complex/havana-
    swift/03configure-cloud.sh, === removed symlink
    usr/share/doc/orange-box/examples/openstack-complex/havana-
    swift/04cleanup.sh, === removed symlink usr/share/doc/orange-
    box/examples/openstack-complex/havana-swift/README, === removed
    symlink usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/prepare_cloud/essex, === removed
    symlink usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/prepare_cloud/grizzly, === removed
    symlink usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/prepare_cloud/havana, === removed
    symlink usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/prepare_cloud/icehouse, === target
    was ufolsom, === target was ugrizzly, === target was uhavana, ===
    target was u../havana/01demo-prep.sh, === target was
    u../havana/02deploy.sh, === target was u../havana/03configure-
    cloud.sh, === target was u../havana/04cleanup.sh, === target was
    u../havana/README, usr/share/doc/orange-box/examples/hadoop/00-
    bootstrap.sh, usr/share/doc/orange-box/examples/hadoop/01-get-juju-
    gui-info.sh, usr/share/doc/orange-box/examples/hadoop/02-
    hadoop.yaml, usr/share/doc/orange-box/examples/hadoop/03-run-
    terasort.sh, usr/share/doc/orange-box/examples/hadoop/04-hive-
    demo.txt, usr/share/doc/orange-box/examples/hadoop/demo.sh,
    usr/share/doc/orange-box/examples/hadoop/get-hadoop-info.sh,
    usr/share/doc/orange-box/examples/openstack/00-bootstrap.sh,
    usr/share/doc/orange-box/examples/openstack/01-deploy.sh,
    usr/share/doc/orange-box/examples/openstack/99-cleanup.sh,
    usr/share/doc/orange-box/examples/openstack-complex/bridge2.xml,
    usr/share/doc/orange-box/examples/openstack-complex/havana/01demo-
    prep.sh, usr/share/doc/orange-box/examples/openstack-
    complex/havana/02deploy.sh, usr/share/doc/orange-
    box/examples/openstack-complex/havana/03configure-cloud.sh,
    usr/share/doc/orange-box/examples/openstack-
    complex/havana/04cleanup.sh, usr/share/doc/orange-
    box/examples/openstack-complex/havana/bundle.yaml,
    usr/share/doc/orange-box/examples/openstack-complex/havana-
    colo/bundle.yaml, usr/share/doc/orange-box/examples/openstack-
    complex/havana-compute/03configure-cloud.sh, usr/share/doc/orange-
    box/examples/openstack-complex/havana-compute/bundle.yaml,
    usr/share/doc/orange-box/examples/openstack-complex/havana/README,
    usr/share/doc/orange-box/examples/openstack-complex/havana-
    swift/bundle.yaml, usr/share/doc/orange-box/examples/openstack-
    complex/juju-config/environments.yaml, usr/share/doc/orange-
    box/examples/openstack-complex/juju-config/generate-jujuenv,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/configure-tests, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/configure_tests.py, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/devstack/config.py, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/devstack/__init__.py, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/devstack/test_devstack_exercises.py,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/devstack/test_utils/cloud.py, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/devstack/test_utils/config.py, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/devstack/test_utils/__init__.py, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/devstack/test_utils/juju/client.py,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/devstack/test_utils/juju/__init__.py,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/devstack/test_utils/juju/juju_deployer.py,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/all_variables, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack.conf, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack_templates/exerciserc,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack_templates/openrc.master,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack_templates/openrc.stable_essex,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack_templates/openrc.stable_folsom,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/devstack_templates/openrc.stable_havana,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/etc_master/openstack.conf, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-configuration/get-cloud-
    images, usr/share/doc/orange-box/examples/openstack-
    complex/openstack-configuration/inspect-environment,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/prepare-cloud, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-
    configuration/prepare_cloud/folsom, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-configuration/README,
    usr/share/doc/orange-box/examples/openstack-complex/openstack-
    configuration/verify-cloud, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-prereqs-install.sh,
    usr/share/doc/orange-box/examples/openstack-complex/README,
    usr/share/doc/orange-box/examples/openstack-complex/remove-kvms.sh,
    usr/share/doc/orange-box/examples/openstack/havanaOB.yaml,
    usr/share/doc/orange-box/examples/openstack/README,
    usr/share/doc/orange-box/examples/README:
    - move all of the examples to a separate branch and package
      lp:orange-box-examples

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 10 Jun 2014 17:09:25 -0700

orange-box (1.37-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-setup-nat:
    - use set -x to see what's going on
    - lspci is much faster than lshw
    - clean out all iptables rules, before applying our nat
    - restart squid-deb-proxy and iptables

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 10 Jun 2014 16:13:44 -0700

orange-box (1.36-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - update the right lightdm file

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sat, 07 Jun 2014 08:35:08 -0500

orange-box (1.35-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-status-all-nodes:
    - fix a couple of typos, improve formatting

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 04 Jun 2014 12:22:40 -0500

orange-box (1.34-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-status-all-nodes:
    - add a bit more testing to status script
  * debian/postinst:
    - turn Juju debugging on (per Kapil)
      + without this, Juju logs are pretty friggin useless,
        and these oranage-box environments aren't around long enough
        to worry about the logs filling up
    - quote log config
  * usr/bin/orange-box-add-all-nodes, usr/lib/orange-box/inc/common:
    - add an info function
    - scan the network a couple of times (10) looking for 16992 ports
    - it seems that occasionally we miss a node;  let's widen the window
      through which we're looking
  * usr/bin/orange-box-add-all-nodes, usr/bin/orange-box-add-node:
    - LP: #1321410
    - add a script to add individual nodes at a time
    - have the add all nodes script call this script
  * usr/lib/orange-box/inc/common:
    - let's make our amt wakeup check a little smarter...rather than
      always running 4 times, break once we have a live connection
  * usr/bin/orange-box-setup-nat:
    - Intel Centrino Advanced-N 6235 and Ubuntu don't work well with Wireless-N
    - disable 802.11n if we see this adapter

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 03 Jun 2014 14:50:36 -0500

orange-box (1.33-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-status-all-nodes:
    - add some notes about what we should be testing here
  * usr/bin/orange-box-add-all-nodes:
    - sort the found ip addresses, to add nodes in order
  * debian/postinst:
    - add a simple redirect for the maas web app
  * debian/postrm, etc/cron.d/orange-box-mirror:
    - log mirror script progress
    - add a user name for the cron job; it hasn't been running previously

 -- Dustin Kirkland <kirkland@ubuntu.com>  Mon, 02 Jun 2014 10:44:50 -0500

orange-box (1.32-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - use capital E, Examples, to match the default desktop examples dir
  * usr/bin/orange-box-purge-everything:
    - when purging, some processes hang around (like the txlongpool); let's
      kill the shit of out these
  * usr/bin/orange-box-setup-nat:
    - comment out the iptables rules for transparent proxying
    - this is currently breaking ssl connections from the nodes, such as
      the charmstore
  * usr/bin/orange-box-status-all-nodes:
    - exit non-zero if there are problems
    - add some checks for the vm
  * debian/postinst:
    - disable the login password for the desktop
    - use sudo, rather than su -
      + removes the need for one level of double quotes
      + call dbus-launch

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 30 May 2014 13:29:21 -0500

orange-box (1.31-0ubuntu1) utopic; urgency=medium

  * debian/postinst, etc/apt/orange-box-mirror.list, usr/lib/orange-
    box/inc/squid.conf:
    - update squid configuration to use 2GB of RAM, 100MB max object size,
      share squid-deb-proxy's directory
  * usr/bin/orange-box-setup-nat, usr/lib/orange-box/inc/squid.conf:
    - transparently proxy 80 and 443 on 3128
  * debian/control, debian/postinst, debian/preinst, usr/lib/orange-
    box/inc/squid.conf:
    - install charm-tools
    - kick off a get-all-charms in the background during the install
    - reduce sleep after network configuration to 30 seconds
    - simplify squid configuration
  * debian/postinst, etc/apt/orange-box-mirror.list, usr/lib/orange-
    box/inc/squid.conf:
    - revert a few changes;  the archive and proxy still aren't working
      perfectly out of the box
  * usr/bin/orange-box-status-all-nodes:
    - enhance the status all nodes script, adding a bit more logic

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 30 May 2014 11:18:39 -0500

orange-box (1.30-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-purge-everything:
    - add a script that purges maas and the orange-box package
    - this is useful, if you want to purge everything, and start
      over again

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 22 May 2014 14:58:59 -0500

orange-box (1.29-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-add-virtual-nodes:
    - auto start the virtual machine node

 -- Dustin Kirkland <kirkland@ubuntu.com>  Mon, 12 May 2014 16:32:53 -0400

orange-box (1.28-0ubuntu1) utopic; urgency=medium

  * usr/bin/orange-box-add-virtual-nodes:
    - ensure that ubuntu owns its ssh keys

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 09 May 2014 10:57:31 -0500

orange-box (1.27-0ubuntu1) utopic; urgency=medium

  * debian/preinst:
    - skip wireless interfaces on the internal network detection

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 08 May 2014 18:34:06 -0500

orange-box (1.26-0ubuntu1) utopic; urgency=medium

  * debian/postinst, usr/bin/orange-box-add-all-nodes:
    - put all of the dns setup together
    - configure maas to propagate the squid proxy
    - add a few notes from the package review with maas team
  * debian/links, usr/bin/orange-box-setup-nat:
    - automatically reconfigure nat each time an interface comes up
    - this should make the master node a bit smarter about interfaces
      that show up or go down (like your wifi or usb tethered phone)

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 08 May 2014 18:11:50 -0500

orange-box (1.25-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - move the maas admin import-boot-images down further, as we need
      to have created the maas admin user and logged in

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 08 May 2014 11:30:45 -0500

orange-box (1.24-0ubuntu1) utopic; urgency=low

  * Release and upload

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 08 May 2014 09:45:54 -0500

orange-box (1.23-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - fixed another typo in maas-import-images

 --  <drussell@canonical.com>  Thu, 08 May 2014 08:57:37 -0500

orange-box (1.21-0ubuntu1) utopic; urgency=medium

  * debian/preinst:
    - unnecessary comment added

 -- Dave Russell <drussell@canonical.com>  Thu, 08 May 2014 00:20:16 -0500

orange-box (1.19-0ubuntu1) utopic; urgency=medium

  * debian/postinst, debian/preinst:
    - sleep longer to allow network to settle (necessary on slow
      DHCP/STP networks)
    - fix quoting typo

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 07 May 2014 18:44:16 -0500

orange-box (1.18-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - after manually importing boot images, tell maas to import images,
      which should be a no-op download, but will let maas figure out that
      images have been imported more quickly

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 07 May 2014 16:09:06 -0500

orange-box (1.17-0ubuntu1) utopic; urgency=medium

  * debian/postinst, debian/preinst (properties changed: -x to +x),
    usr/bin/orange-box-add-all-nodes:
    - fix upstream dns bug, use external interface
    - try different escape of gsettings, still not working
    - make preinst a set -x so we see what's going on
    - force ifdown
    - make ubuntu's bashrc 600, since it has passwords?
    - fix typo in tagging physical machines
  * debian/postinst, debian/preinst, usr/bin/orange-box-setup-nat:
    - use ip to find default route (per elmo), more machine readable
    - move internal/external network detection into setup-nat script

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 07 May 2014 10:16:16 -0500

orange-box (1.16-0ubuntu1) utopic; urgency=medium

  * debian/preinst:
    - fix iptables debconf question

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 06 May 2014 10:43:48 -0500

orange-box (1.15-0ubuntu1) utopic; urgency=medium

  * debian/postinst, debian/preinst, usr/share/doc/orange-
    box/examples/openstack/00-bootstrap.sh:
    - resurrect virtual machine creation
    - use manual in /etc/network/interfaces to work around network manager
      crashing
  * debian/postinst:
    - add a redirect to the MAAS web interface

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 06 May 2014 10:39:18 -0500

orange-box (1.14-0ubuntu1) utopic; urgency=medium

  * debian/postinst, usr/bin/orange-box-add-virtual-nodes:
    - disable screensaver
    - virsh console again
  * debian/postinst, debian/preinst, usr/share/doc/orange-
    box/examples/openstack/00-bootstrap.sh:
    - revert the virtual machine installation and the bridge creation
      + bridge is causing serious problems with network manager

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 06 May 2014 00:00:52 -0500

orange-box (1.13-0ubuntu1) utopic; urgency=medium

  * usr/share/doc/orange-box/examples/openstack/00-bootstrap.sh:
    - clean up bootstrap a bit
  * debian/postinst, usr/bin/orange-box-add-virtual-nodes,
    usr/share/doc/orange-box/examples/openstack/00-bootstrap.sh:
    - set MAAS upstream DNS
    - fix typos in virtual node add
    - simplify openstack bootstrap

 -- Dustin Kirkland <kirkland@ubuntu.com>  Mon, 05 May 2014 22:57:53 -0500

orange-box (1.12-0ubuntu1) utopic; urgency=medium

  * debian/postinst:
    - fix typo in ip allocation

 -- Dustin Kirkland <kirkland@ubuntu.com>  Mon, 05 May 2014 21:12:14 -0500

orange-box (1.11-0ubuntu1) utopic; urgency=medium

  * debian/control, debian/postinst, debian/preinst, usr/bin/orange-box-
    add-all-nodes, usr/bin/orange-box-setup-kvms => usr/bin/orange-box-
    add-virtual-nodes, usr/share/doc/orange-box/examples/openstack/00-
    bootstrap.sh:
    - add a VM on the master node to MAAS
      + useful for running the Juju GUI
    - install libvirt-bin, qemu-kvm, virtinst
    - configure the internal interface to be a bridge, so that we
      can host a virtual machine here
    - tag real nodes as 'physical' (note, this isn't yet working)
    - update the setup-kvms script to create one single virtual machine
      node and add to MAAS
    - update openstack example documentation to bootstrap onto a vm

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sun, 04 May 2014 23:51:32 -0500

orange-box (1.10-0ubuntu1) utopic; urgency=medium

  * Re-release, this time with:
  * debian/control, debian/postinst, usr/share/orange-box/orange-box-
    background.png:
    - add explicity dependencies for remmina and gsettings
    - set the desktop background to an orange box image
    - clean up the default launcher favorites

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 02 May 2014 17:38:54 -0500

orange-box (1.9-0ubuntu1) utopic; urgency=medium

  * usr/share/orange-box/nodelists/OrangeBox03:
    - added node list of mac addresses
    - I expect to deprecate and remove all of these very soon, however
  * debian/postinst:
    - clean up user's examples directory; this was causing reinstalls to fail

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 02 May 2014 17:37:16 -0500

orange-box (1.8-0ubuntu1) unstable; urgency=medium

  * debian/postinst:
    - disable remote password authentication, since our username/password
      is well known
    - up the DHCP range to .50-.250
      + 200 addresses should be plenty enough
      + leave just a little more room, in case we ever fit more NUCs inside
        of an Orange Box
  * usr/share/doc/orange-box/examples/hadoop/02-hadoop.yaml,
    usr/share/doc/orange-box/examples/openstack/havanaOB.yaml:
    - merge from Ameet, more cleanly placing these services on the canvas
  * usr/lib/orange-box/patches/arp_ip_order.patch, usr/lib/orange-
    box/patches/try_amt_harder.patch:
    - add links to upstream bugs

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 22 Apr 2014 08:32:39 -0500

orange-box (1.7-0ubuntu1) unstable; urgency=medium

  * debian/postinst, debian/preinst:
    - do a slightly better job of creating the boot-resources link
    - take a few TODO nodes, per code review with Kiko
  * usr/share/doc/orange-box/examples/hadoop/02-hadoop.yaml,
    usr/share/doc/orange-box/examples/openstack/00-bootstrap.sh:
    - updated hadoop bundle from Ameet and Amir
  * debian/control, debian/postinst, debian/preinst, usr/bin/orange-box-
    setup-nat:
    - move nat setup to postinst
    - this allows us to set the debconf questions for iptables-persistent
      in the preinst, but actually install and configure nat in the postinst
    - also move the setup nat logic out to an executable, as this is something
      that might need to re-run from time to time

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 17 Apr 2014 17:17:19 -0500

orange-box (1.6-0ubuntu1) trusty; urgency=medium

  * debian/postinst, usr/lib/orange-box/patches/try_amt_harder.patch:
    - MAAS needs to try a bit harder to issue AMT tools
    - change patching

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 16 Apr 2014 18:41:21 -0500

orange-box (1.5-0ubuntu1) trusty; urgency=medium

  * usr/bin/orange-box-amt-monitor:
    - sort those ip address
  * === added directory etc/init, debian/postinst, etc/init/orange-box-
    amt-monitor.conf, usr/bin/orange-box-amt-monitor:
    - install an amt monitoring upstart job
  * debian/postinst:
    - make a copy of orange-box examples in the user's home directory
    - it seems that juju-deployer wants to create a directory (precise)
      in the current directory where deployed from, so this must be
      writeable

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 16 Apr 2014 17:34:19 -0500

orange-box (1.4-0ubuntu1) trusty; urgency=medium

  * debian/preinst:
    - add some pre-flight checks, to ensure that the OrangeBox is installed
      per spec
    - add the NAT basics in the network setup
    - enable both NAT and squid
  * usr/bin/orange-box-create-package-mirror, usr/bin/orange-box-setup-
    kvms, usr/bin/orange-box-setup-maas, usr/share/doc/orange-
    box/examples/openstack-complex/havana/04cleanup.sh,
    usr/share/doc/orange-box/examples/openstack-complex/juju-
    config/environments.yaml, usr/share/doc/orange-
    box/examples/openstack-complex/openstack-configuration/prepare-
    cloud, usr/share/doc/orange-box/examples/openstack-
    complex/openstack-prereqs-install.sh:
    - comprehensive replacement of 10.0.0.* with 10.14.4.*
  * usr/bin/orange-box-add-all-nodes:
    - doesn't look like we actually need the nodelists
    - use nmap to scan the network for ip's listening on 16992
    - use arp to translate these ip's to mac addresses
    - use a consistent naming scheme to create nodeN hostnames
    - profit
  * usr/bin/orange-box-add-all-nodes:
    - we use AMT_PASSWORD so much, put it in .bashrc
  * usr/bin/orange-box-setup-maas:
    - deprecated;  all functionality subsumed into postinst/preinst
  * debian/preinst, usr/lib/orange-box/inc/squid.conf:
    - setup squid
  * === renamed directory usr/share/doc/orange-box/examples/openstack-
    simple => usr/share/doc/orange-box/examples/openstack,
    usr/share/doc/orange-box/examples/openstack/01-deploy.sh,
    usr/share/doc/orange-box/examples/openstack/havanaOB.yaml,
    usr/share/doc/orange-box/examples/openstack-simple/00-demo-prep.sh
    => usr/share/doc/orange-box/examples/openstack/00-bootstrap.sh,
    usr/share/doc/orange-box/examples/openstack-simple/0X-demo-
    cleanup.sh => usr/share/doc/orange-box/examples/openstack/99-
    cleanup.sh:
    - updated Ameet's OpenStack example
    - note that these scripts worked perfectly as of 4/11/2014 at
      and 4/14/2014
  * debian/postinst:
    - let's not strict host check ssh keys on node1-node9, as these
      will be constantly changing
  * debian/control, debian/postinst, debian/preinst:
    - move squid setup to postinst
    - setup nat/networking in preinst, predepend on iptables
  * usr/bin/orange-box-add-all-nodes:
    - fix critical typo
  * debian/control, debian/postinst, debian/preinst:
    - install pastebinit; seems we always need this for debugging
    - move external drive setup to preinst, to make sure drive is mounted
      before importing
  * debian/postinst, debian/preinst:
    - ensure that network manager does not manage our internal ethernet
      adapter
    - block on importing maas pxe files;  MAAS won't be usable until this
      completes
  * === added directory usr/lib/orange-box/patches, debian/postinst,
    debian/preinst, usr/bin/orange-box-add-all-nodes, usr/lib/orange-
    box/patches/arp_ip_order.patch:
    - restart maas-cluster-celery to ensure it picks up pxe iso images
      imported
    - tgt was running, but seemed to be failing;  restart tgt before adding
      all nodes to maas
    - forcibly apply a one-line patch to maas, to work around tych0's
      arp-mac-to-ip bug
    - no need to put our external interface in /etc/network/interfaces, just
      let network-manager handle that one
    - on re-runs of add all nodes, fastpath tag might already be defined
  * debian/postinst, usr/bin/orange-box-amt-monitor,
    usr/share/doc/orange-box/examples/hadoop/00-bootstrap.sh (properties
    changed: -x to +x), usr/share/doc/orange-box/examples/hadoop/01-get-
    juju-gui-info.sh (properties changed: -x to +x),
    usr/share/doc/orange-box/examples/hadoop/03-run-terasort.sh
    (properties changed: -x to +x), usr/share/doc/orange-
    box/examples/hadoop/get-hadoop-info.sh (properties changed: -x to
    +x):
    - make hadoop example scripts executable
    - add resolv.conf information so that we can easily resolve maas
      node names
    - add an amt monitor script
  * debian/postinst:
    - add a symlink in ubuntu user's home directory to the examples
  * debian/postinst, usr/bin/orange-box-amt-monitor:
    - fix borked patch application
    - make the amt monitor only watch open amt ports

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sat, 12 Apr 2014 00:17:47 -0500

orange-box (1.3-0ubuntu1) trusty; urgency=medium

  * debian/postinst:
    - make sure we chown the .juju directory to the ubuntu user
  * usr/share/doc/orange-box/examples/openstack-simple/00-demo-prep.sh:
    - show the debug log and upload tools when bootstrapping, otherwise
      FUCKING juju has to go out to the internet to download itself,
      FOR FUCKS SAKE
  * debian/postinst:
    - set an admin secret so that we can log into the juju gui
  * debian/control:
    - add juju-deployer to the master node, makes deploying bundles
      much easier
  * === added directory home, === added directory home/ubuntu, === added
    directory home/ubuntu/.remmina, debian/postinst,
    home/ubuntu/.remmina/1397230159112.remmina,
    home/ubuntu/.remmina/1397232305030.remmina,
    home/ubuntu/.remmina/1397232322839.remmina,
    home/ubuntu/.remmina/1397232362406.remmina,
    home/ubuntu/.remmina/1397232390677.remmina,
    home/ubuntu/.remmina/1397232407533.remmina,
    home/ubuntu/.remmina/1397232435909.remmina,
    home/ubuntu/.remmina/1397232455068.remmina,
    home/ubuntu/.remmina/1397232472197.remmina,
    home/ubuntu/.remmina/remmina.pref, usr/share/doc/orange-
    box/examples/openstack-simple/havanaOB.yaml:
    - install a working set of VNC configs

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sat, 12 Apr 2014 00:17:44 -0500

orange-box (1.2-0ubuntu1) trusty; urgency=medium

  * debian/postinst:
    - reorder the checking of maas services; region must be up first
  * debian/postinst, usr/bin/orange-box-add-all-nodes, usr/lib/orange-
    box/inc/common:
    - move the error function to our common include
    - print a suggestion error message, if nmap finds no nodes listening
      on AMT
  * debian/postinst, usr/bin/orange-box-add-all-nodes:
    - change the IP range to 20-250, to allow for 11-19 for static AMT IPs
    - use a bulk method to mark all nodes as fastpath

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 11 Apr 2014 10:13:33 -0500

orange-box (1.1-0ubuntu1) trusty; urgency=medium

  * debian/postinst:
    - handle the stop/start of the pserv and dhcp more robustly
    - create an error function, to bail out
    - create a function that tries to ensure certain services are running
    - ensure that ALL OF MAAS is running, before trying to add all nodes

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 11 Apr 2014 08:30:22 -0500

orange-box (1.0-0ubuntu1) trusty; urgency=low

  * Initial packaging
  * debian/postinst:
    - move some of the setup maas configuration into the postinst
  * etc/apt/mirror.list => etc/apt/orange-box-mirror.list,
    etc/cron.d/apt-mirror => etc/cron.d/orange-box-mirror:
    - don't step on apt-mirror's default configuration file
  * === added directory etc/maas, debian/control, debian/postinst,
    etc/cron.d/orange-box-mirror, etc/maas/import_pxe_files:
    - add openssh-server as a dependency (which is not necessarily
      installed if we start from an Ubuntu desktop
    - refactor and expand the logic in postinst, ensure idempotency,
      add networking support
    - fix error in mirror cronjob
    - add import pxe conf file
  * debian/postinst, etc/network/interfaces.example, === removed
    directory etc/network:
    - add logic for getting the api key
    - setup maas admin first
    - fix syntax error in boot resources setup
    - remove the deprecated network interfaces sample
  * debian/control, debian/postinst, usr/share/orange-
    box/nodelists/CloudFive-nodelist => usr/share/orange-
    box/nodelists/OrangeBox05, usr/share/orange-box/nodelists/CloudFour-
    nodelist => usr/share/orange-box/nodelists/OrangeBox04,
    usr/share/orange-box/nodelists/CloudTwo-nodelist =>
    usr/share/orange-box/nodelists/OrangeBox02, usr/share/orange-
    box/nodelists/OrangeBox01:
    - add some dependencies for other tools we'll need
      + byobu, iptables-persistent, juju-core, wsmancli
    - try to list the maas network interfaces first, and keep trying
      until we can, and then update the network interfaces
    - make sure boot-resources symlink does not yet exist
    - generate an ssh key for the ubuntu user, and add it to maas
    - setup a juju environment for maas
    - rename all of the nodelists, to OrangeBox[00-05]
  * debian/postinst, usr/bin/orange-box-setup-nat:
    - rework our setup-nat script a bit; tested and working as
      designed, at this point
  * usr/bin/orange-box-add-all-nodes, usr/bin/orange-box-fastpath:
    - update add-all-nodes logic, use a small shell replacement for
      the fastpath python script; also tested and working as designed,
      at this point
  * debian/control, debian/postinst, debian/preinst, etc/apache2/sites-
    available/archive.conf, etc/apache2/sites-available/ubuntu-
    cloud.conf, usr/bin/orange-box-add-all-nodes, usr/lib/orange-
    box/inc/common:
    - add nmap, useful for telling which nodes have AMT listening
    - use set -x on a couple of our scripts for now
    - wait a few seconds to ensure networking is ready
    - disable nat setup for now
    - disable the default apache site, restart instead of reload
    - fix conditional syntax error
    - add all nodes in the postinst
    - add a preinst file that sets some debconf questions
    - update apache site configuration for apache 2.4, ffs
    - make add-all-nodes more robust
    - fix some maas-cli calls
  * debian/postinst, debian/preinst:
    - move the networking setup to preinst

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 11 Apr 2014 07:20:25 -0500
